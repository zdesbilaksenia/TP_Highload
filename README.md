# Tinder
## 1. Тема и целевая аудитория
### MVP
1.  Создание и редактирование профиля
1.  Персональные рекомендации
1.  Система "лайков" и "пропусков" других пользователей
1. Межпользовательские чаты

### Целевая аудитория
Всего активных пользователей: 75 млн.
Число новых пользователей каждый месяц: 6.2 млн.
Tinder доступен в 190 странах и более чем на 40 языках. 

| Населенный пункт  |  Кол-во пользователей (млн) |
| ------------ | ------------ |
|  США |  8 |
| Великобритания  | 5  |
|  Бразилия | 10  |
|  Европа | 30  |
|  Канада |  4 |
|  Россия | 5  |
|  Остальные страны |  12 |

## 2. Расчет нагрузки
### Продуктовые метрики
1. Среднее число активных пользователей в месяц: 66 млн
2. Среднее число активных пользователей в день: 12 млн
3. Средний размер хранилища пользователя:

| Параметр | Размер  |
| ------------ | ------------ |
| Фотографии пользователя (в среднем 3 шт) | 1.5 Мб  |
|  Чаты пользователя | 2 Мб  |
|  Данные профиля  | 1 Мб  |
|  Итого | 4.5 Мб  |

4. Среднее количество действий пользователей ежедневно

| Параметр | Количество  |
| ------------ | ------------ |
| Использование сервиса за день | 90 мин  |
| Создание профиля | 100 000  |
| Редактирование профиля | 60 000  |
|  Просматриваемые страницы | 10 шт.  |
|  Свайпы | 400 млн  |
|  Сообщения  | 30 млн  |
|  Посещения  | 2 млрд  |
|  Мэтчи  | 3 млн |

### Технические метрики
1. Размер хранения в разбивке по типам данных (в Тб):
	- для фотографий: 150 Тб
	- для сообщений: 100 Тб

2. Сетевой трафик:

В день пользователь просматривает около 10 страниц. При просмотре страницы происходит запрос за фотографией и информацией о просматриваемом человеке. Итого дневной трафик:

фотографии - ` 12e6 * 10 * 1.5 = 180 Мб/сутки ≈ 200 000 Гб/сутки`

данные о пользователях - `12e6 * 10 * 1 ≈ 120 000 Гб/сутки`

При возникновении мэтча между пользователями открывается чат. Если предположить, что пользователь пишет в среднем 20 сообщений и вес одного сообщения около 3 Кб, то в день на чаты тратится:

`3e6 * 2 * 20 * 3 = 360 000 000 Кб/сутки ≈ 350 Гб/сутки`

Пиковая нагрузка приходится на время с 18:00 до 22:00. Предположим, что в это время сервисом пользуются 50% (6 млн) пользователей, тогда пиковое потребление:

фотографии - `6e6 * 10 * 1.5 / 4 = 22 500 000 Мб/ч ≈ 50 Гбит/с`

данные о пользователях - `6e6 * 10 * 1 / 4 = 15 000 000 Мб/ч ≈ 33 Гбит/с`

Больше всего мэтчей приходится именно на время пиковой нагрузки => на сообщения тратится меньше 1 Гбит/с.

3. RPS

|  Запросы | RPS  |
| ------------ | ------------ |
|  Загрузка профиля | 400e6 / 24 / 60 / 60 ≈ 4630   |
|  Создание и редактирование профиля  |  (100e3 + 60e3) / 24 / 60 / 60 ≈ 2    |
|  Мэтчи (на запись)  |  3e6 / 24 / 60 / 60 ≈ 35  |
|  Мэтчи (на чтение для составления рекомендаций)  | 12e6 / 24 / 60 / 60) ≈ 139  |
|  Чаты (на запись)  |  3e6 / 24 / 60 / 60 ≈ 35  |
|  Чаты (на чтение)  |  12e6 / 24 / 60 / 60 ≈ 139  |
|  Сообщения (на запись)  |  3e6 * 2 / 24 / 60 / 60 ≈ 70  |
|  Фотографии (на чтение)  |  400e6 * 3 / 24 / 60 / 60 ≈ 13889   |



Ссылки: https://www.businessofapps.com/data/tinder-statistics/
https://hookupdate.net/tinder-statistics/  
https://www.reuters.com/article/us-match-group-results-idUSKBN2A22V1 https://datingzest.com/tinder-statistics/
